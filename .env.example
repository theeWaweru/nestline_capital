# =============================================================================
# Nestline Capital - Environment Variables Configuration
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# IMPORTANT: Never commit .env.local to version control!
# =============================================================================

# =============================================================================
# 1. NEXT.JS & NEXTAUTH CONFIGURATION
# =============================================================================

# Next.js Environment (development | production | test)
NODE_ENV=development

# NextAuth Secret - Generate using: openssl rand -base64 32
# This is used to encrypt JWT tokens and session data
NEXTAUTH_SECRET=your-secret-key-here-minimum-32-characters

# Your application URL (no trailing slash)
# Development: http://localhost:3000
# Production: https://yourdomain.com
NEXTAUTH_URL=http://localhost:3000


# =============================================================================
# 2. DATABASE CONFIGURATION
# =============================================================================

# MongoDB Connection String
# Format: mongodb+srv://username:password@cluster.mongodb.net/database_name
# Get this from MongoDB Atlas: https://cloud.mongodb.com
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/nestline_capital?retryWrites=true&w=majority


# =============================================================================
# 3. AWS S3 CONFIGURATION (File Storage)
# =============================================================================

# AWS Region (e.g., us-east-1, eu-west-1, ap-southeast-1)
AWS_REGION=us-east-1

# AWS Access Credentials
# Get from AWS IAM Console: https://console.aws.amazon.com/iam/
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# S3 Bucket Name (must be created in AWS S3)
# Make sure bucket has public read permissions for uploaded files
AWS_S3_BUCKET_NAME=your-s3-bucket-name


# =============================================================================
# 4. EMAIL SERVICE (Brevo/Sendinblue)
# =============================================================================

# Brevo API Key
# Get from: https://app.brevo.com/settings/keys/api
BREVO_API_KEY=your-brevo-api-key

# Email Sender Information (Optional - defaults provided)
FROM_EMAIL=info@nestlinecapital.com
FROM_NAME=Nestline Capital


# =============================================================================
# 5. GOOGLE MAPS API
# =============================================================================

# Google Maps JavaScript API Key
# Get from: https://console.cloud.google.com/google/maps-apis
# Enable: Maps JavaScript API, Places API
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key


# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================

# 1. MONGODB SETUP
# -----------------
# - Sign up at https://cloud.mongodb.com
# - Create a free M0 cluster
# - Create a database user (Database Access > Add New User)
# - Whitelist your IP (Network Access > Add IP Address > Allow Access from Anywhere for development)
# - Get connection string (Connect > Connect your application > Node.js)
# - Replace <password> with your actual password

# 2. AWS S3 SETUP
# ---------------
# - Sign up at https://aws.amazon.com
# - Go to S3 and create a new bucket
# - Set bucket policy for public read access:
#   {
#     "Version": "2012-10-17",
#     "Statement": [
#       {
#         "Effect": "Allow",
#         "Principal": "*",
#         "Action": "s3:GetObject",
#         "Resource": "arn:aws:s3:::your-bucket-name/*"
#       }
#     ]
#   }
# - Create IAM user with S3 permissions
# - Generate access key and secret key

# 3. BREVO EMAIL SETUP
# --------------------
# - Sign up at https://www.brevo.com (free plan: 300 emails/day)
# - Verify your sender email address
# - Go to Settings > API Keys > Create New API Key
# - Copy the API key (v3-xxxx...)

# 4. GOOGLE MAPS SETUP
# --------------------
# - Go to https://console.cloud.google.com
# - Create a new project or select existing
# - Enable APIs: Maps JavaScript API, Geocoding API
# - Create credentials > API Key
# - Restrict key to your domain (recommended for production)

# 5. NEXTAUTH SECRET GENERATION
# ------------------------------
# Generate a random secret using one of these methods:
# - Run: openssl rand -base64 32
# - Run: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# - Use: https://generate-secret.vercel.app/32


# =============================================================================
# TROUBLESHOOTING
# =============================================================================

# Issue: "Cannot connect to MongoDB"
# Solution: Check if IP is whitelisted in MongoDB Atlas Network Access

# Issue: "S3 upload failed"
# Solution: Verify AWS credentials and bucket permissions

# Issue: "Email not sending"
# Solution: Verify Brevo API key and sender email verification

# Issue: "Google Maps not loading"
# Solution: Check API key and ensure billing is enabled on Google Cloud

# Issue: "NextAuth session not working"
# Solution: Ensure NEXTAUTH_SECRET is at least 32 characters


# =============================================================================
# SECURITY BEST PRACTICES
# =============================================================================

# ✅ DO:
# - Use strong, unique values for all secrets
# - Keep .env.local file private (never commit to git)
# - Use different credentials for development and production
# - Rotate API keys periodically
# - Enable IP restrictions where possible
# - Use environment-specific values

# ❌ DON'T:
# - Share your .env.local file
# - Commit secrets to version control
# - Use production credentials in development
# - Hard-code secrets in your source code
# - Use weak or predictable secrets


# =============================================================================
# VERIFICATION
# =============================================================================

# After setting up all variables, verify your configuration:
# 1. Run: npm run dev
# 2. Check console for any missing environment variable errors
# 3. Test user registration (verifies MongoDB + Brevo)
# 4. Test file upload (verifies AWS S3)
# 5. Test map display (verifies Google Maps API)


# =============================================================================
# ADDITIONAL RESOURCES
# =============================================================================

# MongoDB Atlas: https://www.mongodb.com/docs/atlas/
# AWS S3 Documentation: https://docs.aws.amazon.com/s3/
# Brevo API Docs: https://developers.brevo.com/
# Google Maps Platform: https://developers.google.com/maps
# NextAuth.js Docs: https://next-auth.js.org/
