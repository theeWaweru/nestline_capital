# ============================================
# Nestline Capital - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control!

# ============================================
# Application Settings
# ============================================

# Node Environment (development | production | test)
NODE_ENV=development

# Application URL (used for email links and redirects)
# Development: http://localhost:3000
# Production: https://your-domain.com
NEXTAUTH_URL=http://localhost:3000

# ============================================
# Database Configuration
# ============================================

# MongoDB Connection String
# Format: mongodb+srv://username:password@cluster.mongodb.net/database-name
# Example: mongodb+srv://admin:password123@cluster0.abcde.mongodb.net/nestline-capital
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/nestline-capital

# ============================================
# Authentication (NextAuth)
# ============================================

# Secret key for JWT token signing (generate with: openssl rand -base64 32)
# IMPORTANT: Use a strong, unique secret in production!
NEXTAUTH_SECRET=your-secret-key-here-change-this-in-production

# ============================================
# AWS S3 File Storage
# ============================================

# AWS Access Key ID (from AWS IAM)
AWS_ACCESS_KEY_ID=your-aws-access-key-id

# AWS Secret Access Key (from AWS IAM)
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# AWS Region (e.g., us-east-1, eu-west-1, ap-south-1)
AWS_REGION=us-east-1

# S3 Bucket Name (must be globally unique)
# Stores plot images, title deeds, and other uploads
AWS_S3_BUCKET_NAME=nestline-capital-files

# ============================================
# Email Service (Brevo - formerly Sendinblue)
# ============================================

# Brevo API Key (get from https://app.brevo.com/settings/keys/api)
# Used for sending verification emails, password resets, etc.
BREVO_API_KEY=your-brevo-api-key-here

# Email sender address (must be verified in Brevo)
FROM_EMAIL=noreply@nestlinecapital.com

# Email sender name
FROM_NAME=Nestline Capital

# ============================================
# Google Maps API
# ============================================

# Google Maps API Key (get from Google Cloud Console)
# Required for plot location mapping and coordinate picking
# Requires Maps JavaScript API enabled
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here

# ============================================
# Optional - Payment Integrations (Phase 4)
# ============================================

# M-Pesa Daraja API (for Kenya payments)
# Uncomment when implementing payment features
# MPESA_CONSUMER_KEY=your-mpesa-consumer-key
# MPESA_CONSUMER_SECRET=your-mpesa-consumer-secret
# MPESA_SHORTCODE=your-business-shortcode
# MPESA_PASSKEY=your-mpesa-passkey
# MPESA_CALLBACK_URL=https://your-domain.com/api/payments/mpesa/callback

# Stripe (for international card payments)
# Uncomment when implementing payment features
# STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
# STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
# STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ============================================
# Setup Instructions
# ============================================

# 1. MONGODB SETUP
#    - Create account at https://mongodb.com/cloud/atlas
#    - Create a cluster (free tier available)
#    - Create database user with password
#    - Whitelist your IP address (or 0.0.0.0/0 for development)
#    - Get connection string and replace <password> with your password

# 2. NEXTAUTH SECRET
#    - Generate with: openssl rand -base64 32
#    - Or use any random string generator
#    - Keep this secret and unique per environment

# 3. AWS S3 SETUP
#    - Create AWS account at https://aws.amazon.com
#    - Create IAM user with programmatic access
#    - Attach AmazonS3FullAccess policy (or create custom policy)
#    - Create S3 bucket (note: bucket names must be globally unique)
#    - Configure bucket for public read access (for uploaded images)
#    - Save Access Key ID and Secret Access Key

# 4. BREVO EMAIL SETUP
#    - Create account at https://app.brevo.com
#    - Verify your sender email domain
#    - Go to Settings > API Keys and create new key
#    - Copy API key to BREVO_API_KEY
#    - Set FROM_EMAIL to a verified email address

# 5. GOOGLE MAPS API SETUP
#    - Go to Google Cloud Console: https://console.cloud.google.com
#    - Create new project or select existing
#    - Enable "Maps JavaScript API"
#    - Go to Credentials and create API key
#    - Restrict API key to your domain (optional but recommended)
#    - Copy API key to NEXT_PUBLIC_GOOGLE_MAPS_API_KEY

# 6. RUNNING THE APPLICATION
#    - Copy this file: cp .env.example .env.local
#    - Fill in all values in .env.local
#    - Install dependencies: npm install
#    - Run development server: npm run dev
#    - Visit http://localhost:3000

# ============================================
# Security Notes
# ============================================

# - NEVER commit .env.local to git
# - Use different values for development and production
# - Rotate secrets regularly in production
# - Use environment-specific API keys
# - Keep this .env.example file updated with new variables
# - Document any new environment variables added

# ============================================
# Troubleshooting
# ============================================

# MongoDB Connection Issues:
# - Check username and password are correct
# - Ensure IP is whitelisted in MongoDB Atlas
# - Verify connection string format

# S3 Upload Failures:
# - Verify AWS credentials are correct
# - Check bucket name is correct
# - Ensure bucket has public read permissions
# - Check IAM user has S3 permissions

# Email Not Sending:
# - Verify BREVO_API_KEY is correct
# - Check FROM_EMAIL is verified in Brevo
# - Review Brevo dashboard for error logs

# Google Maps Not Loading:
# - Check API key is correct
# - Ensure Maps JavaScript API is enabled
# - Verify billing is enabled (Google requires it)
# - Check browser console for API errors
